---
import AnimationToggle from "../../components/AnimationToggle.astro";

const { Component, props } = Astro.props;
const { src, alt, wideImage, description } = props;

const componentData = {
    //src: src.startsWith('http') ? src : `${import.meta.env.BASE_URL}${src}`,
    src: /^https?:\/\//i.test(src) ? src : new URL(src.replace(/^\/+/, ''), new URL(import.meta.env.BASE_URL, 'http://local')).pathname,
    alt: alt || "",
    wide: wideImage || false,
    description: description
};
---
<AnimationToggle>
    <Component {...componentData}>
        <slot />
        {description}
    </Component>
</AnimationToggle>
